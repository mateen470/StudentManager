{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// THIS IS HOME PAGE AND IT WILL SHOW THE TABLE OF ALL THE CONTENTS WHICH YOU CAN CHANGE\nimport React,{useEffect,useState}from\"react\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Home=function Home(){// USING USESTATE TO GET AND SET THE DATA WHICH WILL BE PROVIDED BY DATABASE TO DISPLAY ON HOME PAGE\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),getUser=_useState2[0],setUser=_useState2[1];// ASYNC getData FUNCTION WITH GET METHOD TO VALIDATE AND SHOW THE DATA ON HOME PAGE\nvar getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3000/show\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);if(res.status===422||!data){console.log(\"ERROR\");}else{// THE setUser IS THE VARIABLE DEFINED IN USESTATE TO UPDATE OR STORE THE NEW VALUE, data IS BEING TO THE setUser\nsetUser(data);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getData(_x){return _ref.apply(this,arguments);};}();// USEEFFECT FUNCTION IS BUILT-IN FUNCTION OF REACT WHIHC WILL BE EXECUTED EVERYTIME THE PAGE IS LOADED\nuseEffect(function(){// CALLING THE getData FUNCTION IN USEEFFECT FUNCTION\ngetData();},[]);var delUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var res2,deldata;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:3000/delete/\".concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});case 2:res2=_context2.sent;_context2.next=5;return res2.json();case 5:deldata=_context2.sent;console.log(deldata);if(res2.status===422||!deldata){alert(\"ERROR\");}else{// THE setUser IS THE VARIABLE DEFINED IN USESTATE TO UPDATE OR STORE THE NEW VALUE, data IS BEING TO THE setUser\nalert(\"DELETED SUCCESSFULLY!\");getData();}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function delUser(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"screen\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(NavLink,{className:\"newUser\",to:\"/add\",children:[\"Add User\",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user\",\"aria-hidden\":\"true\"})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\" table table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-secondary\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID.\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"DEPARTMENT\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"SEMESTER\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ACTION\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:getUser.map(function(element,i){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:element.name}),/*#__PURE__*/_jsx(\"td\",{children:element.id}),/*#__PURE__*/_jsx(\"td\",{children:element.department}),/*#__PURE__*/_jsx(\"td\",{children:element.semester}),/*#__PURE__*/_jsx(\"td\",{children:element.email}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/view/\".concat(element._id),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark m-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-eye\"})})}),/*#__PURE__*/_jsx(NavLink,{to:\"/update/\".concat(element._id),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-pencil\",\"aria-hidden\":\"true\"})})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-light m-1\",onClick:function onClick(){return delUser(element._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash\",\"aria-hidden\":\"true\"})})]})]})});})})]})]})});};","map":{"version":3,"names":["React","useEffect","useState","NavLink","Home","getUser","setUser","getData","e","fetch","method","headers","res","json","data","console","log","status","delUser","id","res2","deldata","alert","map","element","i","name","department","semester","email","_id"],"sources":["C:/Users/abdul/Documents/GitHub/StudentManager/server/student/src/components/Home.js"],"sourcesContent":["// THIS IS HOME PAGE AND IT WILL SHOW THE TABLE OF ALL THE CONTENTS WHICH YOU CAN CHANGE\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport const Home = () => {\r\n  // USING USESTATE TO GET AND SET THE DATA WHICH WILL BE PROVIDED BY DATABASE TO DISPLAY ON HOME PAGE\r\n  const [getUser, setUser] = useState([]);\r\n\r\n  // ASYNC getData FUNCTION WITH GET METHOD TO VALIDATE AND SHOW THE DATA ON HOME PAGE\r\n  const getData = async (e) => {\r\n    const res = await fetch(\"http://localhost:3000/show\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    // STORING THE DATA WHICH IS SENT BY THE SERVER IN JSON FORMAT IN data\r\n    const data = await res.json();\r\n    console.log(data);\r\n\r\n    if (res.status === 422 || !data) {\r\n      console.log(\"ERROR\");\r\n    } else {\r\n      // THE setUser IS THE VARIABLE DEFINED IN USESTATE TO UPDATE OR STORE THE NEW VALUE, data IS BEING TO THE setUser\r\n      setUser(data);\r\n    }\r\n  };\r\n  // USEEFFECT FUNCTION IS BUILT-IN FUNCTION OF REACT WHIHC WILL BE EXECUTED EVERYTIME THE PAGE IS LOADED\r\n  useEffect(() => {\r\n    // CALLING THE getData FUNCTION IN USEEFFECT FUNCTION\r\n    getData();\r\n  }, []);\r\n\r\n  const delUser = async (id) => {\r\n    const res2 = await fetch(`http://localhost:3000/delete/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const deldata = await res2.json();\r\n    console.log(deldata);\r\n\r\n    if (res2.status === 422 || !deldata) {\r\n      alert(\"ERROR\");\r\n    } else {\r\n      // THE setUser IS THE VARIABLE DEFINED IN USESTATE TO UPDATE OR STORE THE NEW VALUE, data IS BEING TO THE setUser\r\n      alert(\"DELETED SUCCESSFULLY!\");\r\n      getData();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"screen\">\r\n        <div>\r\n          <NavLink className=\"newUser\" to=\"/add\">\r\n            Add User<i className=\"fa fa-user\" aria-hidden=\"true\"></i>\r\n          </NavLink>\r\n        </div>\r\n        <table className=\" table table-striped table-hover\">\r\n          <thead className=\"bg-secondary\">\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">NAME</th>\r\n              <th scope=\"col\">ID.</th>\r\n              <th scope=\"col\">DEPARTMENT</th>\r\n              <th scope=\"col\">SEMESTER</th>\r\n              <th scope=\"col\">EMAIL</th>\r\n              <th scope=\"col\">ACTION</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {/* USING MAP FUNCTION TO ITEREATE ALL THE VALUES STORED IN getUser TO SHOW AT HOME PAGE */}\r\n            {getUser.map((element, i) => {\r\n              return (\r\n                <>\r\n                  <tr>\r\n                    <th scope=\"row\">{i + 1}</th>\r\n                    <td>{element.name}</td>\r\n                    <td>{element.id}</td>\r\n                    <td>{element.department}</td>\r\n                    <td>{element.semester}</td>\r\n                    <td>{element.email}</td>\r\n                    <td>\r\n                      {/* GETTING THE ID AND THEN SENDING IT TO SERVER IF SERVER USES req.params OR VIEW PAGE BY useParams*/}\r\n                      <NavLink to={`/view/${element._id}`}>\r\n                        <button type=\"button\" className=\"btn btn-dark m-1\">\r\n                          <i className=\"fa-solid fa-eye\"></i>\r\n                        </button>\r\n                      </NavLink>\r\n                      <NavLink to={`/update/${element._id}`}>\r\n                        <button type=\"button\" className=\"btn btn-secondary\">\r\n                          <i className=\"fa fa-pencil\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                      </NavLink>\r\n\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-light m-1\"\r\n                        onClick={()=>delUser(element._id)}\r\n                      >\r\n                        <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                </>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"ycAAA;AACA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,kBAAxB,C,6IAEA,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACxB;AACA,cAA2BF,QAAQ,CAAC,EAAD,CAAnC,wCAAOG,OAAP,eAAgBC,OAAhB,eAEA;AACA,GAAMC,QAAO,4FAAG,iBAAOC,CAAP,uJACIC,MAAK,CAAC,4BAAD,CAA+B,CACpDC,MAAM,CAAE,KAD4C,CAEpDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF2C,CAA/B,CADT,QACRC,GADQ,qCAQKA,IAAG,CAACC,IAAJ,EARL,QAQRC,IARQ,eASdC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAEA,GAAIF,GAAG,CAACK,MAAJ,GAAe,GAAf,EAAsB,CAACH,IAA3B,CAAiC,CAC/BC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACD,CAFD,IAEO,CACL;AACAV,OAAO,CAACQ,IAAD,CAAP,CACD,CAhBa,sDAAH,kBAAPP,QAAO,4CAAb,CAkBA;AACAN,SAAS,CAAC,UAAM,CACd;AACAM,OAAO,GACR,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMW,QAAO,6FAAG,kBAAOC,EAAP,gKACKV,MAAK,wCAAiCU,EAAjC,EAAuC,CAC7DT,MAAM,CAAE,QADqD,CAE7DC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFoD,CAAvC,CADV,QACRS,IADQ,uCAOQA,KAAI,CAACP,IAAL,EAPR,QAORQ,OAPQ,gBAQdN,OAAO,CAACC,GAAR,CAAYK,OAAZ,EAEA,GAAID,IAAI,CAACH,MAAL,GAAgB,GAAhB,EAAuB,CAACI,OAA5B,CAAqC,CACnCC,KAAK,CAAC,OAAD,CAAL,CACD,CAFD,IAEO,CACL;AACAA,KAAK,CAAC,uBAAD,CAAL,CACAf,OAAO,GACR,CAhBa,wDAAH,kBAAPW,QAAO,8CAAb,CAmBA,mBACE,sCACE,aAAK,SAAS,CAAC,QAAf,wBACE,kCACE,MAAC,OAAD,EAAS,SAAS,CAAC,SAAnB,CAA6B,EAAE,CAAC,MAAhC,mCACU,UAAG,SAAS,CAAC,YAAb,CAA0B,cAAY,MAAtC,EADV,GADF,EADF,cAME,eAAO,SAAS,CAAC,kCAAjB,wBACE,cAAO,SAAS,CAAC,cAAjB,uBACE,mCACE,WAAI,KAAK,CAAC,KAAV,eADF,cAEE,WAAI,KAAK,CAAC,KAAV,kBAFF,cAGE,WAAI,KAAK,CAAC,KAAV,iBAHF,cAIE,WAAI,KAAK,CAAC,KAAV,wBAJF,cAKE,WAAI,KAAK,CAAC,KAAV,sBALF,cAME,WAAI,KAAK,CAAC,KAAV,mBANF,cAOE,WAAI,KAAK,CAAC,KAAV,oBAPF,GADF,EADF,cAYE,uBAEGb,OAAO,CAACkB,GAAR,CAAY,SAACC,OAAD,CAAUC,CAAV,CAAgB,CAC3B,mBACE,sCACE,mCACE,WAAI,KAAK,CAAC,KAAV,UAAiBA,CAAC,CAAG,CAArB,EADF,cAEE,oBAAKD,OAAO,CAACE,IAAb,EAFF,cAGE,oBAAKF,OAAO,CAACL,EAAb,EAHF,cAIE,oBAAKK,OAAO,CAACG,UAAb,EAJF,cAKE,oBAAKH,OAAO,CAACI,QAAb,EALF,cAME,oBAAKJ,OAAO,CAACK,KAAb,EANF,cAOE,mCAEE,KAAC,OAAD,EAAS,EAAE,iBAAWL,OAAO,CAACM,GAAnB,CAAX,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,kBAAhC,uBACE,UAAG,SAAS,CAAC,iBAAb,EADF,EADF,EAFF,cAOE,KAAC,OAAD,EAAS,EAAE,mBAAaN,OAAO,CAACM,GAArB,CAAX,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,uBACE,UAAG,SAAS,CAAC,cAAb,CAA4B,cAAY,MAAxC,EADF,EADF,EAPF,cAaE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,OAAO,CAAE,yBAAIZ,QAAO,CAACM,OAAO,CAACM,GAAT,CAAX,EAHX,uBAKE,UAAG,SAAS,CAAC,aAAb,CAA2B,cAAY,MAAvC,EALF,EAbF,GAPF,GADF,EADF,CAiCD,CAlCA,CAFH,EAZF,GANF,GADF,EADF,CA8DD,CA9GM"},"metadata":{},"sourceType":"module"}