{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// THIS REGISTERATION PAGE OF A NEW STUDENT\nimport{useState,useEffect}from\"react\";import React from\"react\";import{NavLink,useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Update=function Update(){// THIS useNavigate HOOK IS USED WHEN YOU WILL CLICK ON SUBMIT BUTTON, THE PAGE WILL GO BACK TO\n// WHEREEVER YOU PUT ADDRESS IN THIS HOOK TO\nvar goBack=useNavigate();// USING STATE HOOK FOR THE VALUES OF THE INPUT VARIABLES\nvar _useState=useState({name:\"\",id:\"\",department:\"\",semester:\"\",email:\"\"}),_useState2=_slicedToArray(_useState,2),val=_useState2[0],setINP=_useState2[1];// setData FUNCTION TO GET THE VALUES WHIHC WILL BE PROVIDED BY USER\nvar setData=function setData(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setINP(function(preVal){return _objectSpread(_objectSpread({},preVal),{},_defineProperty({},name,value));});};var _useParams=useParams(\"\"),id=_useParams.id;// THIS FUNCTION WILL VALIDATE AND THEN STORE THE WHOLE DATA AGAINST THE ID IN setINP RATHER THAN getUser AS IN ADD PAGE\n// BECAUSE WE WANT TO SHOW THE DATA IN THE FORM WHICH IS ALREADY EXISTING AND SETINP\n// ALREADY HAS THAT PREVIOUS DATA STORED\nvar Update=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3000/view/\".concat(id),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);if(res.status===422||!data){console.log(\"ERROR\");}else{// THE setUser IS THE VARIABLE DEFINED IN USESTATE TO UPDATE OR STORE THE NEW VALUE, data IS BEING TO THE setUser\nsetINP(data);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function Update(){return _ref.apply(this,arguments);};}();useEffect(function(){Update();},[]);// THIS FUNCTION IS AN ONCLICK FUNCTION OF UPDATE BUTTON AND IT WILL UPDATE THE RECORD AND IT ALSO SPECIFIES THE\n// DATA BASED ON THE ID AND HOW IT WORKS IS THAT THE SERVER WILL GET THE ID FROM HOME PAGE AND THE  THE SERVER\n// WILL FIND THE WHILE DATA AGAINST THAT ID AND THEN SEND THE WHOLE DATA TO THIS FUNCTION\nvar updateUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var name,id,department,semester,email,res2,data2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();name=val.name,id=val.id,department=val.department,semester=val.semester,email=val.email;_context2.next=4;return fetch(\"http://localhost:3000/update/\".concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,id:id,department:department,semester:semester,email:email})});case 4:res2=_context2.sent;_context2.next=7;return res2.json();case 7:data2=_context2.sent;if(res2.status===422||!data2){alert(\"ERROR\");}else{alert(\"DATA UPDATED SUCCESSFULLY!\");goBack(\"/\");}case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function updateUser(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",id:\"main\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NavLink,{className:\"newUser\",to:\"/\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-double-left\",\"aria-hidden\":\"true\"}),\"All Users\",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user\",\"aria-hidden\":\"true\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"addText\",children:\"Update User\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fs-5\",children:\"fill the form below to update the student\"})]})]}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"input form-group bg-dark d-inline-block text-white mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"second\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"m-2 fs-5\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"name\",children:[\"NAME :\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Name\",className:\"text\",placeholder:\"Abdul Mateen\",name:\"name\",value:val.name,onChange:setData})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"m-2 fs-5\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"id\",children:[\"ID :\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"id\",className:\"text\",placeholder:\"FA19-BCS-022\",name:\"id\",value:val.id,onChange:setData})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"m-2 fs-5\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"dep\",children:[\"DEPARTMENT :\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"dep\",className:\"text\",placeholder:\"CS\",name:\"department\",value:val.department,onChange:setData})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"m-2 fs-5\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"sem\",children:[\"SEMESTER :\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"sem\",className:\"number\",placeholder:\"6\",name:\"semester\",value:val.semester,onChange:setData})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"m-2 fs-5\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",children:[\"E-MAIL :\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"email\",placeholder:\"FA19-BCS-022@cui.com\",name:\"email\",value:val.email,onChange:setData})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:updateUser,className:\"btn btn-secondary d-grid gap-2 col-6 mx-auto\",children:\"Update\"})]})})})]});};","map":{"version":3,"names":["useState","useEffect","React","NavLink","useParams","useNavigate","Update","goBack","name","id","department","semester","email","val","setINP","setData","e","target","value","preVal","fetch","method","headers","res","json","data","console","log","status","updateUser","preventDefault","body","JSON","stringify","res2","data2","alert"],"sources":["C:/Users/abdul/Documents/GitHub/StudentManager/server/student/src/components/Update.js"],"sourcesContent":["// THIS REGISTERATION PAGE OF A NEW STUDENT\r\nimport { useState, useEffect } from \"react\";\r\nimport React from \"react\";\r\n\r\nimport { NavLink, useParams, useNavigate } from \"react-router-dom\";\r\n\r\nexport const Update = () => {\r\n  // THIS useNavigate HOOK IS USED WHEN YOU WILL CLICK ON SUBMIT BUTTON, THE PAGE WILL GO BACK TO\r\n  // WHEREEVER YOU PUT ADDRESS IN THIS HOOK TO\r\n  const goBack = useNavigate();\r\n\r\n  // USING STATE HOOK FOR THE VALUES OF THE INPUT VARIABLES\r\n  const [val, setINP] = useState({\r\n    name: \"\",\r\n    id: \"\",\r\n    department: \"\",\r\n    semester: \"\",\r\n    email: \"\",\r\n  });\r\n\r\n  // setData FUNCTION TO GET THE VALUES WHIHC WILL BE PROVIDED BY USER\r\n  const setData = (e) => {\r\n    const { name, value } = e.target;\r\n    setINP((preVal) => {\r\n      return {\r\n        ...preVal,\r\n        [name]: value,\r\n      };\r\n    });\r\n  };\r\n  let { id } = useParams(\"\");\r\n\r\n  // THIS FUNCTION WILL VALIDATE AND THEN STORE THE WHOLE DATA AGAINST THE ID IN setINP RATHER THAN getUser AS IN ADD PAGE\r\n  // BECAUSE WE WANT TO SHOW THE DATA IN THE FORM WHICH IS ALREADY EXISTING AND SETINP\r\n  // ALREADY HAS THAT PREVIOUS DATA STORED\r\n  const Update = async () => {\r\n    const res = await fetch(`http://localhost:3000/view/${id}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    // STORING THE DATA WHICH IS SENT BY THE SERVER IN JSON FORMAT IN data\r\n    const data = await res.json();\r\n    console.log(data);\r\n\r\n    if (res.status === 422 || !data) {\r\n      console.log(\"ERROR\");\r\n    } else {\r\n      // THE setUser IS THE VARIABLE DEFINED IN USESTATE TO UPDATE OR STORE THE NEW VALUE, data IS BEING TO THE setUser\r\n      setINP(data);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    Update();\r\n  }, []);\r\n\r\n  // THIS FUNCTION IS AN ONCLICK FUNCTION OF UPDATE BUTTON AND IT WILL UPDATE THE RECORD AND IT ALSO SPECIFIES THE\r\n  // DATA BASED ON THE ID AND HOW IT WORKS IS THAT THE SERVER WILL GET THE ID FROM HOME PAGE AND THE  THE SERVER\r\n  // WILL FIND THE WHILE DATA AGAINST THAT ID AND THEN SEND THE WHOLE DATA TO THIS FUNCTION\r\n  const updateUser = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { name, id, department, semester, email } = val;\r\n    \r\n    const res2 = await fetch(`http://localhost:3000/update/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        id,\r\n        department,\r\n        semester,\r\n        email,\r\n      }),\r\n    });\r\n\r\n    const data2 = await res2.json();\r\n\r\n    if (res2.status === 422 || !data2) {\r\n      alert(\"ERROR\");\r\n    } else {\r\n      alert(\"DATA UPDATED SUCCESSFULLY!\");\r\n      goBack(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mb-2\" id=\"main\">\r\n        <div>\r\n          <NavLink className=\"newUser\" to=\"/\">\r\n            <span>\r\n              <i className=\"fas fa-angle-double-left\" aria-hidden=\"true\"></i>\r\n              All Users<i className=\"fa fa-user\" aria-hidden=\"true\"></i>\r\n            </span>\r\n          </NavLink>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <h2 className=\"addText\">Update User</h2>\r\n          <span className=\"fs-5\">\r\n            fill the form below to update the student\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <form>\r\n        <div className=\"input form-group bg-dark d-inline-block text-white mt-4\">\r\n          <div className=\"second\">\r\n            <div className=\"m-2 fs-5\">\r\n              <label htmlFor=\"name\">\r\n                NAME :\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"Name\"\r\n                  className=\"text\"\r\n                  placeholder=\"Abdul Mateen\"\r\n                  name=\"name\"\r\n                  value={val.name}\r\n                  onChange={setData}\r\n                />\r\n              </label>\r\n            </div>\r\n            <div className=\"m-2 fs-5\">\r\n              <label htmlFor=\"id\">\r\n                ID :\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"id\"\r\n                  className=\"text\"\r\n                  placeholder=\"FA19-BCS-022\"\r\n                  name=\"id\"\r\n                  value={val.id}\r\n                  onChange={setData}\r\n                />\r\n              </label>\r\n            </div>\r\n            <div className=\"m-2 fs-5\">\r\n              <label htmlFor=\"dep\">\r\n                DEPARTMENT :\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"dep\"\r\n                  className=\"text\"\r\n                  placeholder=\"CS\"\r\n                  name=\"department\"\r\n                  value={val.department}\r\n                  onChange={setData}\r\n                />\r\n              </label>\r\n            </div>\r\n            <div className=\"m-2 fs-5\">\r\n              <label htmlFor=\"sem\">\r\n                SEMESTER :\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"sem\"\r\n                  className=\"number\"\r\n                  placeholder=\"6\"\r\n                  name=\"semester\"\r\n                  value={val.semester}\r\n                  onChange={setData}\r\n                />\r\n              </label>\r\n            </div>\r\n            <div className=\"m-2 fs-5\">\r\n              <label htmlFor=\"email\">\r\n                E-MAIL :\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  className=\"email\"\r\n                  placeholder=\"FA19-BCS-022@cui.com\"\r\n                  name=\"email\"\r\n                  value={val.email}\r\n                  onChange={setData}\r\n                />\r\n              </label>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              onClick={updateUser}\r\n              className=\"btn btn-secondary d-grid gap-2 col-6 mx-auto\"\r\n            >\r\n              Update\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}