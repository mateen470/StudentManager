{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/abdul/Documents/GitHub/StudentManager/server/student/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// THIS IS A VIEW PAGE WHICH WILL SHOW YOU ALL THE CONTENTS OF THE STUDENT YOU DESIRE TO VIEW\nimport React,{useEffect,useState,getUpdate}from\"react\";import{NavLink,useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var View=function View(){var goBack=useNavigate();// GETTING ID FROM HOME PAGE\nvar _useParams=useParams(\"\"),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),getUser=_useState2[0],setUser=_useState2[1];// THIS FUNCTION WILL VALIDATE AND THEN STORE THE WHOLE DATA AGAINST THE ID IN getUser\nvar single=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3000/view/\".concat(id),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);if(res.status===422||!data){console.log(\"ERROR\");}else{// THE setUser IS THE VARIABLE DEFINED IN USESTATE TO UPDATE OR STORE THE NEW VALUE, data IS BEING TO THE setUser\nsetUser(data);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function single(){return _ref.apply(this,arguments);};}();useEffect(function(){single();},[]);// THIS FUNCTION IS BASICALLY TO DELETE THE USER\nvar delUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var res2,deldata;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:3000/delete/\".concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});case 2:res2=_context2.sent;_context2.next=5;return res2.json();case 5:deldata=_context2.sent;console.log(deldata);if(res2.status===422||!deldata){alert(\"ERROR\");}else{alert(\"DELETED SUCCESSFULLY!\");goBack(\"/\");}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function delUser(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{className:\"newUser\",to:\"/\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-double-left\",\"aria-hidden\":\"true\"}),\"All Users\",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user\",\"aria-hidden\":\"true\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center bg-secondary mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"card-title viewH3\",children:getUser.name}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(NavLink,{to:\"/update/\".concat(getUser._id),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-pencil\",\"aria-hidden\":\"true\"})})}),/*#__PURE__*/_jsx(NavLink,{to:\"#\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark m-1\",onClick:function onClick(){return delUser(getUser._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash\",\"aria-hidden\":\"true\"})})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush mx-1 my-1\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item \",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"viewH3\",children:\"ID\"}),/*#__PURE__*/_jsx(\"h4\",{children:getUser.id})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"viewH3\",children:\"DEPARTMENT\"}),/*#__PURE__*/_jsx(\"h4\",{children:getUser.department})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item \",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"viewH3\",children:\"SEMESTER\"}),/*#__PURE__*/_jsx(\"h4\",{children:getUser.semester})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item \",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"viewH3\",children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"h4\",{children:getUser.email})]})]})]})]});};","map":{"version":3,"names":["React","useEffect","useState","getUpdate","NavLink","useParams","useNavigate","View","goBack","id","getUser","setUser","single","fetch","method","headers","res","json","data","console","log","status","delUser","res2","deldata","alert","name","_id","department","semester","email"],"sources":["C:/Users/abdul/Documents/GitHub/StudentManager/server/student/src/components/View.js"],"sourcesContent":["// THIS IS A VIEW PAGE WHICH WILL SHOW YOU ALL THE CONTENTS OF THE STUDENT YOU DESIRE TO VIEW\r\nimport React, { useEffect, useState, getUpdate } from \"react\";\r\nimport { NavLink, useParams, useNavigate } from \"react-router-dom\";\r\n\r\nexport const View = () => {\r\n  const goBack = useNavigate();\r\n\r\n  // GETTING ID FROM HOME PAGE\r\n  const { id } = useParams(\"\");\r\n\r\n  const [getUser, setUser] = useState([]);\r\n  // THIS FUNCTION WILL VALIDATE AND THEN STORE THE WHOLE DATA AGAINST THE ID IN getUser\r\n  const single = async () => {\r\n    const res = await fetch(`http://localhost:3000/view/${id}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    // STORING THE DATA WHICH IS SENT BY THE SERVER IN JSON FORMAT IN data\r\n    const data = await res.json();\r\n    console.log(data);\r\n\r\n    if (res.status === 422 || !data) {\r\n      console.log(\"ERROR\");\r\n    } else {\r\n      // THE setUser IS THE VARIABLE DEFINED IN USESTATE TO UPDATE OR STORE THE NEW VALUE, data IS BEING TO THE setUser\r\n      setUser(data);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    single();\r\n  }, []);\r\n\r\n  // THIS FUNCTION IS BASICALLY TO DELETE THE USER\r\n  const delUser = async (id) => {\r\n    const res2 = await fetch(`http://localhost:3000/delete/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const deldata = await res2.json();\r\n    console.log(deldata);\r\n\r\n    if (res2.status === 422 || !deldata) {\r\n      alert(\"ERROR\");\r\n    } else {\r\n      alert(\"DELETED SUCCESSFULLY!\");\r\n      goBack(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavLink className=\"newUser\" to=\"/\">\r\n        <span>\r\n          <i className=\"fas fa-angle-double-left\" aria-hidden=\"true\"></i>\r\n          All Users<i className=\"fa fa-user\" aria-hidden=\"true\"></i>\r\n        </span>\r\n      </NavLink>\r\n      <div className=\"card text-center bg-secondary mb-4\">\r\n        <div className=\"card-body\">\r\n          <h1 className=\"card-title viewH3\">{getUser.name}</h1>\r\n          <hr></hr>\r\n          <NavLink to={`/update/${getUser._id}`}>\r\n            <button type=\"button\" className=\"btn btn-dark\">\r\n              <i className=\"fa fa-pencil\" aria-hidden=\"true\"></i>\r\n            </button>\r\n          </NavLink>\r\n          <NavLink to=\"#\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-dark m-1\"\r\n              onClick={() => delUser(getUser._id)}\r\n            >\r\n              <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n            </button>\r\n          </NavLink>\r\n        </div>\r\n\r\n        <ul className=\"list-group list-group-flush mx-1 my-1\">\r\n          <li className=\"list-group-item \">\r\n            <h3 className=\"viewH3\">ID</h3>\r\n            <h4>{getUser.id}</h4>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <h3 className=\"viewH3\">DEPARTMENT</h3>\r\n            <h4>{getUser.department}</h4>\r\n          </li>\r\n          <li className=\"list-group-item \">\r\n            <h3 className=\"viewH3\">SEMESTER</h3>\r\n            <h4>{getUser.semester}</h4>\r\n          </li>\r\n          <li className=\"list-group-item \">\r\n            <h3 className=\"viewH3\">EMAIL</h3>\r\n            <h4>{getUser.email}</h4>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}